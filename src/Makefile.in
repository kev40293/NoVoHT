CXX=@CXX@
CXXFLAGS=-Wall @CXXFLAGS@
LDFLAGS=-pthread @LDFLAGS@
PREFIX=@prefix@

.SUFFIXES:
.SUFFIXES: .cxx .cpp .o

all: libnovoht.so

.cxx.o:
	$(CXX) $(CXXFLAGS) -c $< -o $@

libnovoht.so: novoht.cxx novoht.o
	$(CXX) $(CXXFLAGS) -c -fPIC -o novoht.obj novoht.cxx $(LDFLAGS)
	$(CXX) -shared -o libnovoht.so novoht.obj
	rm novoht.obj
	ar -cvq libnovoht.a novoht.o

clean:
	rm -f *.o *.so *.a

distclean:
	rm Makefile
